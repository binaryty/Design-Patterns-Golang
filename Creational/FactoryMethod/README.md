# Factory Method (Фабричный метод) — порождающий паттерн.

Известен также под именем **Virtual Constructor** (Виртуальный конструктор).

Частота использования: высокая.

Назначение: определяет интерфейс для создания объекта, но оставляет подклассам решение о том, какой класс инстанцировать. 
Фабричный метод позволяет классу делегировать инстанцирование подклассам.

Участники:

• **Product** (Продукт) — определяет интерфейс объектов, создаваемых фабричным методом;

• **ConcreteProduct** (Конкретный продукт) — реализует интерфейс **Product**;

• **Creator** (Создатель) 
- объявляет фабричный метод, возвращающий объект типа **Product**; 
- может также определять реализацию фабричного метода по умолчанию, возвращающую некоторый конкретный продукт; 
- реализует методы, в которых используется объект **Product**, созданный фабричным методом;

### Задача:
• **ConcreteCreator** (Конкретный создатель) — замещает фабричный метод для создания конкретного продукта.
Реализовать две иерархии классов, в одну из которых входят абстрактный создатель **Creator**
и два конкретных создателя **ConcreteCreator1** и **ConcreteCreator2**,
а в другую — абстрактный продукт **Product** и два конкретных продукта **ConcreteProduct1** и **ConcreteProduct2**.

Абстрактный класс **Product** содержит два абстрактных метода, связанных с получением и преобразованием строки:
метод **GetInfo** без параметров, возвращающий строку,
и метод **Transform** без параметров, который ничего не возвращает.

Классы **ConcreteProduct1** и **ConcreteProduct2** содержат строковое поле **info**, которое инициализируется в конструкторе
с помощью одноименного параметра, после чего в конструкторе класса **ConcreteProduct1** поле **info** преобразуется
к нижнему регистру, а в конструкторе класса **ConcreteProduct2** — к верхнему.

Метод **GetInfo** в каждом подклассе возвращает текущее значение поля **info**,
а метод **Transform** преобразует это поле следующим образом:
для **ConcreteProduct1** он добавляет дополнительный пробел после каждого непробельного символа поля **info**(кроме его последнего символа),
а для **ConcreteProduct2** он добавляет два дополнительных символа * (звездочка) после каждого символа,отличного от звездочки (кроме последнего символа).

Абстрактный класс **Creator** содержит абстрактный фабричный метод **FactoryMethod**(info) со строковым параметром **info**,возвращающий ссылку на объект **Product**.
Этот метод определяется в классах **ConcreteCreator1** и **ConcreteCreator2**, причем фабричный метод класса **ConcreteCreator1** создает объект типа **ConcreteProduct1**,
а фабричный метод класса **ConcreteCreator2** создает объект типа **ConcreteProduct2**;
в любом случае конструктору создаваемого объекта передается параметр info фабричного метода.

В абстрактном классе **Creator** дополнительно определить метод **AnOperation**(info), который создает продукт с помощью фабричного метода,
передавая ему параметр **info**, дважды вызывает метод **Transform** созданного продукта и с помощью его метода **GetInfo** возвращает полученный результат.
Использование фабричного метода в методе **AnOperation** приводит к тому, что выполнение метода **AnOperation** в подклассах класса **Creator**
дает различные результаты, зависящие от свойств создаваемых продуктов, причем такое поведение реализуется без изменения кода метода **AnOperation**.